{
	// See https://go.microsoft.com/fwlink/?LinkId=733558
	// for the documentation about the tasks.json format
	"version": "2.0.0",
	"tasks": [
		{
			"label": "Run CMake",
			"type": "shell",
			"command": "cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 -S ./ -B build/ -G Ninja",
			"problemMatcher": []
		},
		{
			"label": "Compile",
			"type": "shell",
			"command": "ninja",
			"options": {
				"cwd": "./build"
			},
			"dependsOn": [
				"Run CMake",
				"Format"
			],
			"problemMatcher": [],
			"group": {
				"kind": "build",
				"isDefault": true
			}
		},
		{
			"label": "Cleanup",
			"dependsOrder": "sequence",
			"dependsOn": [
				"Remove build directory"
			],
			"problemMatcher": []
		},
		{
			"label": "Remove build directory",
			"type": "shell",
			"command": "rm -r ./build",
			"problemMatcher": []
		},
		{
			"label": "Format",
			"dependsOn": [
				"Format c++ source and headers"
			],
			"dependsOrder": "sequence",
			"problemMatcher": []
		},
		{
			"label": "Format qml files",
			"type": "shell",
			"command": "/usr/lib/qt6/bin/qmlformat --inplace ./ui/*.qml",
			"problemMatcher": []
		},
		{
			"label": "Format c++ source and headers",
			"type": "shell",
			"command": "clang-format --style='{BasedOnStyle: LLVM, PointerAlignment: Left}' -i ./src/*.cpp ./include/*.h",
			"problemMatcher": []
		}
	]
}